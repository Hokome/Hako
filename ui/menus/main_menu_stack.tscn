[gd_scene load_steps=9 format=3 uid="uid://bkjj3dcssx7jh"]

[ext_resource type="Script" uid="uid://b3vfbdwkhar8y" path="res://ui/core/menu_stack.gd" id="1_dbs2n"]
[ext_resource type="Script" uid="uid://dmtt6frn8ij15" path="res://ui/fade_transition.gd" id="2_c5q08"]
[ext_resource type="Script" uid="uid://dfpqm1cjn7d3w" path="res://ui/core/menu.gd" id="3_576ys"]
[ext_resource type="Script" uid="uid://bfm3hms78vpvb" path="res://ui/widgets/global_navigation_button.gd" id="4_4fj70"]
[ext_resource type="Script" uid="uid://hjxfd6e83py3" path="res://ui/widgets/quit_button.gd" id="5_576ys"]
[ext_resource type="PackedScene" uid="uid://vpwlxpkte3ot" path="res://ui/menus/settings/settings_menu.tscn" id="5_vyp5h"]
[ext_resource type="Script" uid="uid://d1j03hhqlt2oe" path="res://ui/menus/pause_menu.gd" id="9_c5q08"]

[sub_resource type="Resource" id="Resource_3yhae"]
script = ExtResource("2_c5q08")
time = 0.2
metadata/_custom_type_script = "uid://dmtt6frn8ij15"

[node name="menu_stack" type="CanvasLayer" node_paths=PackedStringArray("starting_menu")]
process_mode = 3
script = ExtResource("1_dbs2n")
starting_menu = NodePath("main_menu")
default_transition = SubResource("Resource_3yhae")

[node name="main_menu" type="VBoxContainer" parent="." node_paths=PackedStringArray("first_focus")]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -90.0
offset_top = -33.0
offset_right = 90.0
offset_bottom = 33.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("3_576ys")
is_root = true
first_focus = NodePath("play")

[node name="play" type="Button" parent="main_menu"]
layout_mode = 2
text = "Play"
script = ExtResource("4_4fj70")

[node name="settings" type="Button" parent="main_menu" node_paths=PackedStringArray("navigate_to")]
layout_mode = 2
text = "Settings"
script = ExtResource("4_4fj70")
navigate_to = NodePath("../../settings_menu")

[node name="quit" type="Button" parent="main_menu"]
layout_mode = 2
text = "Quit"
script = ExtResource("5_576ys")

[node name="settings_menu" parent="." instance=ExtResource("5_vyp5h")]
visible = false

[node name="pause_menu" type="Panel" parent="." node_paths=PackedStringArray("first_focus")]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("9_c5q08")
first_focus = NodePath("center/vbox/resume")

[node name="center" type="CenterContainer" parent="pause_menu"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="vbox" type="VBoxContainer" parent="pause_menu/center"]
layout_mode = 2

[node name="resume" type="Button" parent="pause_menu/center/vbox"]
layout_mode = 2
text = "Resume"

[node name="settings" type="Button" parent="pause_menu/center/vbox" node_paths=PackedStringArray("navigate_to")]
layout_mode = 2
text = "Settings"
script = ExtResource("4_4fj70")
navigate_to = NodePath("../../../../settings_menu")

[node name="main_menu" type="Button" parent="pause_menu/center/vbox"]
layout_mode = 2
text = "Main menu"

[connection signal="pressed" from="pause_menu/center/vbox/resume" to="pause_menu" method="toggle_pause"]
[connection signal="pressed" from="pause_menu/center/vbox/main_menu" to="pause_menu" method="back_to_main"]
